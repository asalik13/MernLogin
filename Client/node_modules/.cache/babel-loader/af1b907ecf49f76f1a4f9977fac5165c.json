{"ast":null,"code":"var _jsxFileName = \"/Users/ayushsalik/Login/Production/Client/src/Login/Reset.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../utils/config\";\nimport Notif from \"../utils/Notification.component\";\nimport PasswordStrengthBar from \"react-password-strength-bar\";\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, \"Copyright © \", /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"http://ayushsalik.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"ayushsalik.com\"), \" \", new Date().getFullYear(), \".\");\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nfunction Reset(props) {\n  const classes = useStyles();\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [passwordScore, setPasswordScore] = useState(0);\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n  const [notifSeverity, setNotifSeverity] = useState(\"success\");\n  let history = useHistory();\n\n  const sendNotif = function (message, severity) {\n    setNotifSeverity(severity);\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  function resetPass() {\n    if (password !== cpassword) {\n      sendNotif(\"Passwords don't match\", \"error\");\n      return;\n    } else if (passwordScore < 2) {\n      sendNotif(\"Please choose a stronger Password\", \"error\");\n      return;\n    }\n\n    Axios.post(api.reset(props), {\n      password: password\n    });\n    history.push(\"/login\");\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Reset Password\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"oldpassword\",\n    label: \"Old Password\",\n    name: \"oldpassword\",\n    hidden: !props.loggedIn,\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    autoComplete: \"email\",\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"password\",\n    label: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    autoComplete: \"email\",\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"cpassword\",\n    value: cpassword,\n    onChange: e => {\n      setCpassword(e.target.value);\n    },\n    label: \"Confirm Password\",\n    type: \"password\",\n    id: \"cpassword\",\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), password.length > 0 ? /*#__PURE__*/React.createElement(PasswordStrengthBar, {\n    password: password,\n    onChangeScore: score => {\n      setPasswordScore(score);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    className: classes.submit,\n    onClick: resetPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Box, {\n    mt: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Notif, {\n    message: notifMessage,\n    open: notifOpen,\n    handle: setNotifOpen,\n    severity: notifSeverity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default function ResetPage(props) {\n  const data = props.match.params;\n  const ident = data.ident;\n  const today = data.today;\n  const hash = data.hash;\n  let [status, setStatus] = useState(false);\n  useEffect(() => {\n    Axios.post(api.resetVerify(props.match.params)).then(res => {\n      setStatus(res.status);\n    });\n  });\n\n  if (status === 200) {\n    return /*#__PURE__*/React.createElement(Reset, {\n      ident: ident,\n      today: today,\n      hash: hash,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 12\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 12\n      }\n    }, status);\n  }\n}","map":{"version":3,"sources":["/Users/ayushsalik/Login/Production/Client/src/Login/Reset.component.js"],"names":["React","useState","useEffect","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","Alert","LockOutlinedIcon","Typography","makeStyles","Container","Axios","IconButton","CloseIcon","useHistory","api","Notif","PasswordStrengthBar","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Reset","props","classes","password","setPassword","cpassword","setCpassword","passwordScore","setPasswordScore","notifMessage","setNotifMessage","notifOpen","setNotifOpen","notifSeverity","setNotifSeverity","history","sendNotif","message","severity","resetPass","post","reset","push","loggedIn","e","target","value","length","score","ResetPage","data","match","params","ident","today","hash","status","setStatus","resetVerify","then","res"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;;AAEA,SAASC,SAAT,GAAqB;AACnB,sBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,eAAlC;AAAkD,IAAA,KAAK,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,cADH,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,SAAZ;AAAsB,IAAA,IAAI,EAAC,uBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,EAIU,GAJV,EAKG,IAAIC,IAAJ,GAAWC,WAAX,EALH,EAMG,GANH,CADF;AAUD;;AAED,MAAMC,SAAS,GAAGZ,UAAU,CAACa,KAAK,KAAK;AACrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADN;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,aAAa,EAAE,QAHV;AAILC,IAAAA,UAAU,EAAE;AAJP,GAD8B;AAOrCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CADF;AAENM,IAAAA,eAAe,EAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAP6B;AAWrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfZ,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAFP,GAX+B;AAerCY,EAAAA,MAAM,EAAE;AACNP,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AAf6B,CAAL,CAAN,CAA5B;;AAoBA,SAASa,KAAT,CAAeC,KAAf,EAAsB;AACpB,QAAMC,OAAO,GAAGnB,SAAS,EAAzB;AACA,QAAM,CAACoB,QAAD,EAAWC,WAAX,IAA0B/C,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACgD,SAAD,EAAYC,YAAZ,IAA4BjD,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACkD,aAAD,EAAgBC,gBAAhB,IAAoCnD,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAACoD,YAAD,EAAeC,eAAf,IAAkCrD,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACsD,SAAD,EAAYC,YAAZ,IAA4BvD,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACwD,aAAD,EAAgBC,gBAAhB,IAAoCzD,QAAQ,CAAC,SAAD,CAAlD;AAEA,MAAI0D,OAAO,GAAGvC,UAAU,EAAxB;;AACA,QAAMwC,SAAS,GAAG,UAASC,OAAT,EAAkBC,QAAlB,EAA4B;AAC5CJ,IAAAA,gBAAgB,CAACI,QAAD,CAAhB;AACAR,IAAAA,eAAe,CAACO,OAAD,CAAf;AACAL,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAJD;;AAMA,WAASO,SAAT,GAAqB;AACnB,QAAIhB,QAAQ,KAAKE,SAAjB,EAA4B;AAC1BW,MAAAA,SAAS,CAAC,uBAAD,EAA0B,OAA1B,CAAT;AACA;AACD,KAHD,MAGO,IAAIT,aAAa,GAAG,CAApB,EAAuB;AAC5BS,MAAAA,SAAS,CAAC,mCAAD,EAAsC,OAAtC,CAAT;AACA;AACD;;AAED3C,IAAAA,KAAK,CAAC+C,IAAN,CAAW3C,GAAG,CAAC4C,KAAJ,CAAUpB,KAAV,CAAX,EAA6B;AAAEE,MAAAA,QAAQ,EAAEA;AAAZ,KAA7B;AACAY,IAAAA,OAAO,CAACO,IAAR,CAAa,QAAb;AACD;;AAED,sBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAEpB,OAAO,CAACjB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEiB,OAAO,CAACX,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAOE;AAAM,IAAA,SAAS,EAAEW,OAAO,CAACL,IAAzB;AAA+B,IAAA,UAAU,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,aALL;AAME,IAAA,KAAK,EAAC,cANR;AAOE,IAAA,IAAI,EAAC,aAPP;AAQE,IAAA,MAAM,EAAE,CAACI,KAAK,CAACsB,QARjB;AASE,IAAA,KAAK,EAAEpB,QATT;AAUE,IAAA,QAAQ,EAAEqB,CAAC,IAAI;AACbpB,MAAAA,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACD,KAZH;AAaE,IAAA,YAAY,EAAC,OAbf;AAcE,IAAA,YAAY,EAAC,kBAdf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAiBE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,UALL;AAME,IAAA,KAAK,EAAC,UANR;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,IAAI,EAAC,UARP;AASE,IAAA,KAAK,EAAEvB,QATT;AAUE,IAAA,QAAQ,EAAEqB,CAAC,IAAI;AACbpB,MAAAA,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACD,KAZH;AAaE,IAAA,YAAY,EAAC,OAbf;AAcE,IAAA,YAAY,EAAC,cAdf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,eAiCE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,IAAI,EAAC,WALP;AAME,IAAA,KAAK,EAAErB,SANT;AAOE,IAAA,QAAQ,EAAEmB,CAAC,IAAI;AACblB,MAAAA,YAAY,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AACD,KATH;AAUE,IAAA,KAAK,EAAC,kBAVR;AAWE,IAAA,IAAI,EAAC,UAXP;AAYE,IAAA,EAAE,EAAC,WAZL;AAaE,IAAA,YAAY,EAAC,cAbf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCF,EAgDGvB,QAAQ,CAACwB,MAAT,GAAkB,CAAlB,gBACC,oBAAC,mBAAD;AACE,IAAA,QAAQ,EAAExB,QADZ;AAEE,IAAA,aAAa,EAAEyB,KAAK,IAAI;AACtBpB,MAAAA,gBAAgB,CAACoB,KAAD,CAAhB;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxDJ,eA2DE,oBAAC,MAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,OAAO,EAAC,WAFV;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,SAAS,EAAE1B,OAAO,CAACH,MALrB;AAME,IAAA,OAAO,EAAEoB,SANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aA3DF,eAqEE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CArEF,CAPF,CAFF,eAoFE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CApFF,eAuFE,oBAAC,KAAD;AACE,IAAA,OAAO,EAAEV,YADX;AAEE,IAAA,IAAI,EAAEE,SAFR;AAGE,IAAA,MAAM,EAAEC,YAHV;AAIE,IAAA,QAAQ,EAAEC,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvFF,CADF;AAgGD;;AAED,eAAe,SAASgB,SAAT,CAAmB5B,KAAnB,EAA0B;AACvC,QAAM6B,IAAI,GAAG7B,KAAK,CAAC8B,KAAN,CAAYC,MAAzB;AACA,QAAMC,KAAK,GAAGH,IAAI,CAACG,KAAnB;AACA,QAAMC,KAAK,GAAGJ,IAAI,CAACI,KAAnB;AACA,QAAMC,IAAI,GAAGL,IAAI,CAACK,IAAlB;AACA,MAAI,CAACC,MAAD,EAASC,SAAT,IAAsBhF,QAAQ,CAAC,KAAD,CAAlC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,KAAK,CAAC+C,IAAN,CAAW3C,GAAG,CAAC6D,WAAJ,CAAgBrC,KAAK,CAAC8B,KAAN,CAAYC,MAA5B,CAAX,EAAgDO,IAAhD,CAAqDC,GAAG,IAAI;AAC1DH,MAAAA,SAAS,CAACG,GAAG,CAACJ,MAAL,CAAT;AACD,KAFD;AAGD,GAJQ,CAAT;;AAMA,MAAIA,MAAM,KAAK,GAAf,EAAoB;AAClB,wBAAO,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEH,KAAd;AAAqB,MAAA,KAAK,EAAEC,KAA5B;AAAmC,MAAA,IAAI,EAAEC,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKC,MAAL,CAAP;AACD;AACF","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../utils/config\";\nimport Notif from \"../utils/Notification.component\";\nimport PasswordStrengthBar from \"react-password-strength-bar\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"http://ayushsalik.com\">\n        ayushsalik.com\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nfunction Reset(props) {\n  const classes = useStyles();\n  const [password, setPassword] = useState(\"\");\n  const [cpassword, setCpassword] = useState(\"\");\n  const [passwordScore, setPasswordScore] = useState(0);\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n  const [notifSeverity, setNotifSeverity] = useState(\"success\");\n\n  let history = useHistory();\n  const sendNotif = function(message, severity) {\n    setNotifSeverity(severity);\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  function resetPass() {\n    if (password !== cpassword) {\n      sendNotif(\"Passwords don't match\", \"error\");\n      return;\n    } else if (passwordScore < 2) {\n      sendNotif(\"Please choose a stronger Password\", \"error\");\n      return;\n    }\n\n    Axios.post(api.reset(props), { password: password });\n    history.push(\"/login\");\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Reset Password\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"oldpassword\"\n            label=\"Old Password\"\n            name=\"oldpassword\"\n            hidden={!props.loggedIn}\n            value={password}\n            onChange={e => {\n              setPassword(e.target.value);\n            }}\n            autoComplete=\"email\"\n            autoComplete=\"current-password\"\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"password\"\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={e => {\n              setPassword(e.target.value);\n            }}\n            autoComplete=\"email\"\n            autoComplete=\"new-password\"\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"cpassword\"\n            value={cpassword}\n            onChange={e => {\n              setCpassword(e.target.value);\n            }}\n            label=\"Confirm Password\"\n            type=\"password\"\n            id=\"cpassword\"\n            autoComplete=\"new-password\"\n          />\n          {password.length > 0 ? (\n            <PasswordStrengthBar\n              password={password}\n              onChangeScore={score => {\n                setPasswordScore(score);\n              }}\n            />\n          ) : (\n            <p />\n          )}\n\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n            className={classes.submit}\n            onClick={resetPass}\n          >\n            Reset\n          </Button>\n          <Grid container>\n            <Grid item xs></Grid>\n            <Grid item></Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n      <Notif\n        message={notifMessage}\n        open={notifOpen}\n        handle={setNotifOpen}\n        severity={notifSeverity}\n      />\n    </Container>\n  );\n}\n\nexport default function ResetPage(props) {\n  const data = props.match.params;\n  const ident = data.ident;\n  const today = data.today;\n  const hash = data.hash;\n  let [status, setStatus] = useState(false);\n  useEffect(() => {\n    Axios.post(api.resetVerify(props.match.params)).then(res => {\n      setStatus(res.status);\n    });\n  });\n\n  if (status === 200) {\n    return <Reset ident={ident} today={today} hash={hash} />;\n  } else {\n    return <h1>{status}</h1>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}