{"ast":null,"code":"var _jsxFileName = \"/Users/ayushsalik/Login/Production/Client/src/Login/Login.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Notif from \"../utils/Notification.component\";\nimport api from \"../utils/config\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, \"Copyright © \", /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"http://ayushsalik.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"ayushsalik.com\"), \" \", new Date().getFullYear(), \".\");\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function LogIn(props) {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [incorrectNotif, setIncorrectNotif] = useState(false);\n  const [passErrorNotif, setPassErrorNotif] = useState(false);\n  const [emailErrorNotif, setEmailErrorNotif] = useState(false);\n  const [emailHelperText, setEmailHelperText] = useState(\"\");\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n  const [notifSeverity, setNotifSeverity] = useState(\"success\");\n  const [emailHelper, setEmailHelper] = useState(\"\");\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  let history = useHistory();\n  useEffect(() => {\n    let state = props.history.location.state;\n\n    if (state !== undefined && state.notif !== undefined) {\n      sendNotif(state.notif, \"success\");\n    }\n  }, []);\n\n  const sendNotif = function (message, severity) {\n    setNotifSeverity(severity);\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  const logIn = function (e) {\n    e.preventDefault();\n    setLoading(true);\n    Axios.post(api.login, {\n      user: {\n        email: email,\n        password: password\n      }\n    }).then(res => {\n      setLoading(false);\n\n      if (res.data.error) {\n        sendNotif(res.data.error, \"error\");\n        return;\n      }\n\n      if (res.status === 200) {\n        setIncorrectNotif(false);\n        setPassErrorNotif(false);\n        history.push(\"/secret\");\n      }\n    }).catch(err => {\n      sendNotif(\"Email or password is incorrect. Please try again\", \"error\");\n    });\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }, \"loading...\");\n  } else {\n    return /*#__PURE__*/React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Avatar, {\n      className: classes.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Sign in\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      error: emailErrorNotif,\n      helperText: emailHelperText,\n      id: \"email\",\n      label: \"Email Address\",\n      name: \"email\",\n      value: email,\n      onChange: e => {\n        setEmail(e.target.value);\n      },\n      autoComplete: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      error: passErrorNotif,\n      helperText: passErrorNotif ? \"Email or password is incorrect. Please try again\" : \"\",\n      name: \"password\",\n      value: password,\n      onChange: e => {\n        setPassword(e.target.value);\n        setPassErrorNotif(false);\n      },\n      label: \"Password\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      control: /*#__PURE__*/React.createElement(Checkbox, {\n        value: \"remember\",\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 24\n        }\n      }),\n      label: \"Remember me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      fullWidth: true,\n      variant: \"contained\",\n      color: \"primary\",\n      type: \"submit\",\n      onClick: logIn,\n      className: classes.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"/forgot\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, \"Forgot password?\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"/register\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, \"Don't have an account? Sign Up\"))))), /*#__PURE__*/React.createElement(Box, {\n      mt: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Copyright, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Notif, {\n      message: notifMessage,\n      open: notifOpen,\n      handle: setNotifOpen,\n      severity: notifSeverity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    })));\n  }\n}","map":{"version":3,"sources":["/Users/ayushsalik/Login/Production/Client/src/Login/Login.component.js"],"names":["React","useState","useEffect","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","Alert","LockOutlinedIcon","Typography","makeStyles","Container","Axios","Snackbar","IconButton","CloseIcon","Notif","api","useHistory","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","LogIn","props","classes","email","setEmail","password","setPassword","incorrectNotif","setIncorrectNotif","passErrorNotif","setPassErrorNotif","emailErrorNotif","setEmailErrorNotif","emailHelperText","setEmailHelperText","notifMessage","setNotifMessage","notifOpen","setNotifOpen","notifSeverity","setNotifSeverity","emailHelper","setEmailHelper","emailError","setEmailError","loading","setLoading","history","state","location","undefined","notif","sendNotif","message","severity","logIn","e","preventDefault","post","login","user","then","res","data","error","status","push","catch","err","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,SAAT,GAAqB;AACnB,sBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,eAAlC;AAAkD,IAAA,KAAK,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,cADH,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,SAAZ;AAAsB,IAAA,IAAI,EAAC,uBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,EAIU,GAJV,EAKG,IAAIC,IAAJ,GAAWC,WAAX,EALH,EAMG,GANH,CADF;AAUD;;AAED,MAAMC,SAAS,GAAGZ,UAAU,CAACa,KAAK,KAAK;AACrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADN;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,aAAa,EAAE,QAHV;AAILC,IAAAA,UAAU,EAAE;AAJP,GAD8B;AAOrCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CADF;AAENM,IAAAA,eAAe,EAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAP6B;AAWrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfZ,IAAAA,SAAS,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AAFP,GAX+B;AAerCY,EAAAA,MAAM,EAAE;AACNP,IAAAA,MAAM,EAAER,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AAf6B,CAAL,CAAN,CAA5B;AAoBA,eAAe,SAASa,KAAT,CAAeC,KAAf,EAAsB;AACnC,QAAMC,OAAO,GAAGnB,SAAS,EAAzB;AACA,QAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoB/C,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACgD,QAAD,EAAWC,WAAX,IAA0BjD,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACkD,cAAD,EAAiBC,iBAAjB,IAAsCnD,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACoD,cAAD,EAAiBC,iBAAjB,IAAsCrD,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM,CAACsD,eAAD,EAAkBC,kBAAlB,IAAwCvD,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACwD,eAAD,EAAkBC,kBAAlB,IAAwCzD,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAAC0D,YAAD,EAAeC,eAAf,IAAkC3D,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAC4D,SAAD,EAAYC,YAAZ,IAA4B7D,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAAC8D,aAAD,EAAgBC,gBAAhB,IAAoC/D,QAAQ,CAAC,SAAD,CAAlD;AACA,QAAM,CAACgE,WAAD,EAAcC,cAAd,IAAgCjE,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACkE,UAAD,EAAaC,aAAb,IAA8BnE,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACoE,OAAD,EAAUC,UAAV,IAAwBrE,QAAQ,CAAC,KAAD,CAAtC;AACA,MAAIsE,OAAO,GAAGhD,UAAU,EAAxB;AAEArB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIsE,KAAK,GAAG3B,KAAK,CAAC0B,OAAN,CAAcE,QAAd,CAAuBD,KAAnC;;AACA,QAAIA,KAAK,KAAKE,SAAV,IAAuBF,KAAK,CAACG,KAAN,KAAgBD,SAA3C,EAAsD;AACpDE,MAAAA,SAAS,CAACJ,KAAK,CAACG,KAAP,EAAc,SAAd,CAAT;AACD;AACF,GALQ,EAKN,EALM,CAAT;;AAOA,QAAMC,SAAS,GAAG,UAASC,OAAT,EAAkBC,QAAlB,EAA4B;AAC5Cd,IAAAA,gBAAgB,CAACc,QAAD,CAAhB;AACAlB,IAAAA,eAAe,CAACiB,OAAD,CAAf;AACAf,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAJD;;AAMA,QAAMiB,KAAK,GAAG,UAASC,CAAT,EAAY;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAX,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEArD,IAAAA,KAAK,CAACiE,IAAN,CAAW5D,GAAG,CAAC6D,KAAf,EAAsB;AACpBC,MAAAA,IAAI,EAAE;AAAErC,QAAAA,KAAK,EAAEA,KAAT;AAAgBE,QAAAA,QAAQ,EAAEA;AAA1B;AADc,KAAtB,EAGGoC,IAHH,CAGQC,GAAG,IAAI;AACXhB,MAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,UAAIgB,GAAG,CAACC,IAAJ,CAASC,KAAb,EAAoB;AAClBZ,QAAAA,SAAS,CAACU,GAAG,CAACC,IAAJ,CAASC,KAAV,EAAiB,OAAjB,CAAT;AACA;AACD;;AAED,UAAIF,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtBrC,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAE,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAiB,QAAAA,OAAO,CAACmB,IAAR,CAAa,SAAb;AACD;AACF,KAfH,EAgBGC,KAhBH,CAgBSC,GAAG,IAAI;AACZhB,MAAAA,SAAS,CAAC,kDAAD,EAAqD,OAArD,CAAT;AACD,KAlBH;AAmBD,GAvBD;;AAwBA,MAAIP,OAAJ,EAAa;AACX,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD,GAFD,MAEO;AACL,wBACE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,MAArB;AAA4B,MAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAEvB,OAAO,CAACjB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEiB,OAAO,CAACX,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,eAKE,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,IAAtB;AAA2B,MAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAQE;AAAM,MAAA,SAAS,EAAEW,OAAO,CAACL,IAAzB;AAA+B,MAAA,UAAU,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,OAAO,EAAC,UADV;AAEE,MAAA,MAAM,EAAC,QAFT;AAGE,MAAA,QAAQ,MAHV;AAIE,MAAA,SAAS,MAJX;AAKE,MAAA,KAAK,EAAEc,eALT;AAME,MAAA,UAAU,EAAEE,eANd;AAOE,MAAA,EAAE,EAAC,OAPL;AAQE,MAAA,KAAK,EAAC,eARR;AASE,MAAA,IAAI,EAAC,OATP;AAUE,MAAA,KAAK,EAAEV,KAVT;AAWE,MAAA,QAAQ,EAAEiC,CAAC,IAAI;AACbhC,QAAAA,QAAQ,CAACgC,CAAC,CAACa,MAAF,CAASC,KAAV,CAAR;AACD,OAbH;AAcE,MAAA,YAAY,EAAC,OAdf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAiBE,oBAAC,SAAD;AACE,MAAA,OAAO,EAAC,UADV;AAEE,MAAA,MAAM,EAAC,QAFT;AAGE,MAAA,QAAQ,MAHV;AAIE,MAAA,SAAS,MAJX;AAKE,MAAA,KAAK,EAAEzC,cALT;AAME,MAAA,UAAU,EACRA,cAAc,GACV,kDADU,GAEV,EATR;AAWE,MAAA,IAAI,EAAC,UAXP;AAYE,MAAA,KAAK,EAAEJ,QAZT;AAaE,MAAA,QAAQ,EAAE+B,CAAC,IAAI;AACb9B,QAAAA,WAAW,CAAC8B,CAAC,CAACa,MAAF,CAASC,KAAV,CAAX;AACAxC,QAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD,OAhBH;AAiBE,MAAA,KAAK,EAAC,UAjBR;AAkBE,MAAA,IAAI,EAAC,UAlBP;AAmBE,MAAA,EAAE,EAAC,UAnBL;AAoBE,MAAA,YAAY,EAAC,kBApBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBF,eAwCE,oBAAC,gBAAD;AACE,MAAA,OAAO,eAAE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,UAAhB;AAA2B,QAAA,KAAK,EAAC,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADX;AAEE,MAAA,KAAK,EAAC,aAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxCF,eA4CE,oBAAC,MAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,OAAO,EAAC,WAFV;AAGE,MAAA,KAAK,EAAC,SAHR;AAIE,MAAA,IAAI,EAAC,QAJP;AAKE,MAAA,OAAO,EAAEyB,KALX;AAME,MAAA,SAAS,EAAEjC,OAAO,CAACH,MANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA5CF,eAsDE,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,SAAX;AAAqB,MAAA,OAAO,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF,eAME,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAC,WAAX;AAAuB,MAAA,OAAO,EAAC,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,gCADH,CADF,CANF,CAtDF,CARF,CAFF,eA8EE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,KAAD;AACE,MAAA,OAAO,EAAEgB,YADX;AAEE,MAAA,IAAI,EAAEE,SAFR;AAGE,MAAA,MAAM,EAAEC,YAHV;AAIE,MAAA,QAAQ,EAAEC,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA9EF,CADF;AA0FD;AACF","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Axios from \"axios\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Notif from \"../utils/Notification.component\";\nimport api from \"../utils/config\";\n\nimport { useHistory } from \"react-router-dom\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"http://ayushsalik.com\">\n        ayushsalik.com\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nexport default function LogIn(props) {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [incorrectNotif, setIncorrectNotif] = useState(false);\n  const [passErrorNotif, setPassErrorNotif] = useState(false);\n  const [emailErrorNotif, setEmailErrorNotif] = useState(false);\n  const [emailHelperText, setEmailHelperText] = useState(\"\");\n  const [notifMessage, setNotifMessage] = useState(\"\");\n  const [notifOpen, setNotifOpen] = useState(false);\n  const [notifSeverity, setNotifSeverity] = useState(\"success\");\n  const [emailHelper, setEmailHelper] = useState(\"\");\n  const [emailError, setEmailError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  let history = useHistory();\n\n  useEffect(() => {\n    let state = props.history.location.state;\n    if (state !== undefined && state.notif !== undefined) {\n      sendNotif(state.notif, \"success\");\n    }\n  }, []);\n\n  const sendNotif = function(message, severity) {\n    setNotifSeverity(severity);\n    setNotifMessage(message);\n    setNotifOpen(true);\n  };\n\n  const logIn = function(e) {\n    e.preventDefault();\n    setLoading(true);\n\n    Axios.post(api.login, {\n      user: { email: email, password: password }\n    })\n      .then(res => {\n        setLoading(false);\n        if (res.data.error) {\n          sendNotif(res.data.error, \"error\");\n          return;\n        }\n\n        if (res.status === 200) {\n          setIncorrectNotif(false);\n          setPassErrorNotif(false);\n          history.push(\"/secret\");\n        }\n      })\n      .catch(err => {\n        sendNotif(\"Email or password is incorrect. Please try again\", \"error\");\n      });\n  };\n  if (loading) {\n    return <h6>loading...</h6>;\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <br />\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              error={emailErrorNotif}\n              helperText={emailHelperText}\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              value={email}\n              onChange={e => {\n                setEmail(e.target.value);\n              }}\n              autoComplete=\"email\"\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              error={passErrorNotif}\n              helperText={\n                passErrorNotif\n                  ? \"Email or password is incorrect. Please try again\"\n                  : \"\"\n              }\n              name=\"password\"\n              value={password}\n              onChange={e => {\n                setPassword(e.target.value);\n                setPassErrorNotif(false);\n              }}\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n              onClick={logIn}\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"/forgot\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"/register\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n          <Notif\n            message={notifMessage}\n            open={notifOpen}\n            handle={setNotifOpen}\n            severity={notifSeverity}\n          />\n        </Box>\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}